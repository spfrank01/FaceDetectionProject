<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8" />
	<title>Dashboard - Face Detection with CCTV</title>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.24.0/moment.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.4.0/Chart.min.js"></script>
</head>
<body>
	{{NumberPeople}}
	{{EachTimestamp}}
	<div style="width:1000px">
		<canvas id="chart1"></canvas>
	</div>
	<br>
	...
	<br>
	Chart Type :
	<select id="type">
		<option value="line">Line</option>
		<option value="bar">Bar</option>
	</select>
	<button id="update">update</button>
	I think..
	<script>
		data1 = '{{ NumberPeople }}'.slice(1, -1).split(",").map(Number)
		
		labels1 = '{{ EachTimestamp }}'.slice(1, -1).split(",").map(Number)
		labels1.forEach((item, i) => labels1[i] = new Date(item));

		console.log(data1, labels1)
		var ctx = document.getElementById('chart1').getContext('2d');
		ctx.canvas.width = 1000;
		ctx.canvas.height = 300;
		var color = Chart.helpers.color;
		var data = {
			// Labels should be Date objects
			labels: labels1,
			datasets: [{
				fill: false,
				label: 'Number of People',
				data: data1,
				borderColor: '#fe8b36',
				backgroundColor: '#fe8b36',
				lineTension: 0,
			}]
		}
		var options = {
			type: 'line',
			data: data,
			options: {
				fill: false,
				responsive: true,
				scales: {
					xAxes: [{
						type: 'time',
						display: true,
						scaleLabel: {
							display: true,
							labelString: "Date",
						}
					}],
					yAxes: [{
						ticks: {
							beginAtZero: true,
						},
						display: true,
						scaleLabel: {
							display: true,
							labelString: "Page Views",
						}
					}]
				}
			}
		}
		var chart = new Chart(ctx, options);

		document.getElementById('update').addEventListener('click', function () {
			var type = document.getElementById('type').value;
			console.log(type)
			chart.config.data.datasets[0].type = type;
			chart.update();
		});
	</script>
	<script>
		console.log(camera_logs)
	</script>
</body>
</html>